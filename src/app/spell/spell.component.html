<mat-card>
  <mat-card-header>
    <mat-card-title>{{spell.name}}</mat-card-title>
    <mat-card-subtitle>{{spell.school}}</mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <mat-accordion class="example-headers-align">
        <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)" hideToggle="true">
          <mat-expansion-panel-header>
            <mat-panel-title>
              Base Effect
            </mat-panel-title>
            <mat-panel-description>
              <p class="ellipsis-no-wrap">{{spell.effect}}</p>
              <mat-icon>all_out</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>
          <p>{{spell.effect}}</p>
          <mat-chip-list>
            <mat-chip matTooltip="Knowlege Points">KP&#58; {{spell.kp}}</mat-chip>
            <mat-chip matTooltip="Mana Points">MP&#58; {{spell.mp}}</mat-chip>
            <mat-chip *ngIf="spell.upkeep" matTooltip="Upkeep">Up&#58; {{spell.upkeep}}</mat-chip>
            <mat-chip matTooltip="Time to Cast">TTC&#58; {{spell.ttc}}</mat-chip>
          </mat-chip-list>

          <mat-action-row *ngIf="spell.advanced">
            <button mat-button color="primary" (click)="nextStep()">Next</button>
          </mat-action-row>
        </mat-expansion-panel>

        <mat-expansion-panel *ngIf="spell.advanced" [expanded]="step === 1" (opened)="setStep(1)" hideToggle="true">
          <mat-expansion-panel-header>
            <mat-panel-title>
              Advanced
            </mat-panel-title>
            <mat-panel-description>
              {{spell.advanced}}
              <mat-icon>lightbulb_outline</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>
          <p>{{spell.advanced}}</p>
          <mat-chip-list>
            <mat-chip matTooltip="Knowlege Points">KP&#58; {{spell.kp}}</mat-chip>
            <mat-chip matTooltip="Mana Points">MP&#58; {{spell.mp}}</mat-chip>
            <mat-chip matTooltip="Upkeep">Up&#58; {{spell.upkeep}}</mat-chip>
            <mat-chip matTooltip="Time to Cast">TTC&#58; {{spell.ttc}}</mat-chip>
          </mat-chip-list>

          <mat-action-row>
            <button mat-button color="warn" (click)="prevStep()">Previous</button>
            <button *ngIf="spell.master" mat-button color="primary" (click)="nextStep()">Next</button>
          </mat-action-row>
        </mat-expansion-panel>

        <mat-expansion-panel *ngIf="spell.master" [expanded]="step === 2" (opened)="setStep(2)" hideToggle="true">
          <mat-expansion-panel-header>
            <mat-panel-title>
              Master
            </mat-panel-title>
            <mat-panel-description>
              {{spell.master}}
              <mat-icon>grade</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>
          <p>{{spell.master}}</p>
          <mat-chip-list>
            <mat-chip matTooltip="Knowlege Points">KP&#58; {{spell.kp}}</mat-chip>
            <mat-chip matTooltip="Mana Points">MP&#58; {{spell.mp}}</mat-chip>
            <mat-chip matTooltip="Upkeep">Up&#58; {{spell.upkeep}}</mat-chip>
            <mat-chip matTooltip="Time to Cast">TTC&#58; {{spell.ttc}}</mat-chip>
          </mat-chip-list>

          <mat-action-row>
            <button mat-button color="warn" (click)="prevStep()">Previous</button>
            <button mat-button color="primary" (click)="nextStep()">End</button>
          </mat-action-row>
        </mat-expansion-panel>

      </mat-accordion>
  </mat-card-content>
</mat-card>
